#  deserialize
测试网环境,Oep4转1个token交易失败：


用户错误交易数据：
txHash:1696f327c69d9a7d73e07c182e7ad0ba2d4e3180be961b0e55ee747e66146dbd
```
00d12c1a7e08f401000000000000204e000000000000616f2a4a38396ff203ea01e6c070ae421bb8ce2d6c0800e1f50500000000149065290351ece7cc94fb09d3e2e543dcb1b1e0fc14616f2a4a38396ff203ea01e6c070ae421bb8ce2d14616f2a4a38396ff203ea01e6c070ae421bb8ce2d54c10c7472616e7366657246726f6d67ce21f766633f41f894e7a23f90c933b88e9dbcb0000241404f2b907544673c9315dddf25d445e253011d47c659dec9266f8c2f64abb1651a2c59909567260181b50a4ac4bdf4e7aaa8f1f1c3f918777bf26e2a58a15f984f2321032c5ac79dd3952e8aff79cfc2c6b5b76ca7ab27ffb849dbd1ee15c1f93de3007eac41404f2b907544673c9315dddf25d445e253011d47c659dec9266f8c2f64abb1651a2c59909567260181b50a4ac4bdf4e7aaa8f1f1c3f918777bf26e2a58a15f984f2321032c5ac79dd3952e8aff79cfc2c6b5b76ca7ab27ffb849dbd1ee15c1f93de3007eac

```

自己构造正确的转账交易应该是类似：

http://polaris1.ont.io:20334/api/v1/transaction/b1ecae39c4e944746ae193cda55eafaceaf2b9668a64cd48677a7dc1654fcad3?raw=1

```
00d12fbbe988f401000000000000204e000000000000616f2a4a38396ff203ea01e6c070ae421bb8ce2d530800e1f5050000000014b2eedf15252f39bcd777b2c794ec9d591d428bc714616f2a4a38396ff203ea01e6c070ae421bb8ce2d53c1087472616e7366657267ce21f766633f41f894e7a23f90c933b88e9dbcb00001424101df1605c331ac24f1ff55cf02debf155526613761d568d7a6f4c8d7ec3366aa2f771dff82811217c8752501a55d0eb31650c42df97d1af889332b8e55fd9ea0b12321032c5ac79dd3952e8aff79cfc2c6b5b76ca7ab27ffb849dbd1ee15c1f93de3007eac

```

## 解决办法

1.反序列化交易，取出调用合约的参数code，也就是InvokeCode 中的code。
```
byte[] data = Helper.hexToBytes("00d12c1a7e08f401000000000000204e000000000000616f2a4a38396ff203ea01e6c070ae421bb8ce2d6c0800e1f50500000000149065290351ece7cc94fb09d3e2e543dcb1b1e0fc14616f2a4a38396ff203ea01e6c070ae421bb8ce2d14616f2a4a38396ff203ea01e6c070ae421bb8ce2d54c10c7472616e7366657246726f6d67ce21f766633f41f894e7a23f90c933b88e9dbcb0000241404f2b907544673c9315dddf25d445e253011d47c659dec9266f8c2f64abb1651a2c59909567260181b50a4ac4bdf4e7aaa8f1f1c3f918777bf26e2a58a15f984f2321032c5ac79dd3952e8aff79cfc2c6b5b76ca7ab27ffb849dbd1ee15c1f93de3007eac41404f2b907544673c9315dddf25d445e253011d47c659dec9266f8c2f64abb1651a2c59909567260181b50a4ac4bdf4e7aaa8f1f1c3f918777bf26e2a58a15f984f2321032c5ac79dd3952e8aff79cfc2c6b5b76ca7ab27ffb849dbd1ee15c1f93de3007eac");
data = Helper.hexToBytes("00d12fbbe988f401000000000000204e000000000000616f2a4a38396ff203ea01e6c070ae421bb8ce2d530800e1f5050000000014b2eedf15252f39bcd777b2c794ec9d591d428bc714616f2a4a38396ff203ea01e6c070ae421bb8ce2d53c1087472616e7366657267ce21f766633f41f894e7a23f90c933b88e9dbcb00001424101df1605c331ac24f1ff55cf02debf155526613761d568d7a6f4c8d7ec3366aa2f771dff82811217c8752501a55d0eb31650c42df97d1af889332b8e55fd9ea0b12321032c5ac79dd3952e8aff79cfc2c6b5b76ca7ab27ffb849dbd1ee15c1f93de3007eac");
InvokeCode tt = (InvokeCode)Transaction.deserializeFrom(data);
System.out.println(tt.json());
System.out.println(Helper.toHexString(tt.code));
System.exit(0);
```
两个交易得到code结果是：

```

0800e1f50500000000 14 9065290351ece7cc94fb09d3e2e543dcb1b1e0fc 14 616f2a4a38396ff203ea01e6c070ae421bb8ce2d 14 616f2a4a38396ff203ea01e6c070ae421bb8ce2d54c10c 7472616e7366657246726f6d 67 ce21f766633f41f894e7a23f90c933b88e9dbcb0
                                                                                                                                                               调用的是transferFrom函数


08 00e1f50500000000 14 b2eedf15252f39bcd777b2c794ec9d591d428bc7 14 616f2a4a38396ff203ea01e6c070ae421bb8ce2d 53c1 08 7472616e73666572 67 ce21f766633f41f894e7a23f90c933b88e9dbcb0
 amount=100000000                  to                                            from                               函数名transfer   67       合约hash   
```

## 错误原因
用户调用tranferFrom 不是transfer函数